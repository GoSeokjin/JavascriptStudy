<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script>
    //타이머를 이용하여 코드를 블로킹식으로 구현

    function factorial(n){
        console.log(n)
        return n==1?n : n*factorial(n-1);
    }

    function noBlock(n , callback){
        setTimeout(function(){
            var val = factorial(n);
            if(callback && typeof callback == 'function'){
                callback(val)
            }
        } , 0);
    }

    console.log("Top of the morning to you");

    noBlock(3 , function(n){
        console.log('first call ends with ' + n);
        noBlock(n , function(m){
            console.log('final result if' + m);
        });
    });
</script>
</body>
</html>